# app/favicon.ico

This is a binary file of the type: Binary

# app/globals.css

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: Arial, Helvetica, sans-serif;
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;
  }
  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

```

# app/layout.tsx

```tsx
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        {children}
      </body>
    </html>
  );
}

```

# app/page.tsx

```tsx
import TemplateGame from "@/components/game/template-game";

export default function Home() {
  return (
    <>
      <TemplateGame />
    </>
  );
}
```

# components/game/game-input.tsx

```tsx

```

# components/game/game-result.tsx

```tsx

```

# components/game/template-game.tsx

```tsx
'use client'

import { useState, useEffect } from 'react'
import { Input } from "@/components/ui/input"
import { Button } from "@/components/ui/button"
import { Card, CardContent, CardFooter, CardHeader, CardTitle } from "@/components/ui/card"
import { ArrowRightLeft } from 'lucide-react'

export default function TemplateGame() {
  const [user1Text, setUser1Text] = useState('')
  const [user2Text, setUser2Text] = useState('')
  const [user1Submitted, setUser1Submitted] = useState(false)
  const [user2Submitted, setUser2Submitted] = useState(false)
  const [result, setResult] = useState('')
  const [isUser1First, setIsUser1First] = useState(true)

  const handleUser1Submit = () => {
    setUser1Submitted(true)
  }

  const handleUser2Submit = () => {
    setUser2Submitted(true)
  }

  // Use useEffect to monitor submission states
  useEffect(() => {
    if (user1Submitted && user2Submitted) {
      const firstUser = isUser1First ? user1Text : user2Text
      const secondUser = isUser1First ? user2Text : user1Text
      const firstLabel = isUser1First ? "user a" : "user b"
      const secondLabel = isUser1First ? "user b" : "user a"
      
      const story = `Generate a rap battle with two distinct voices and an aggressive hip-hop beat. The battle should maintain high energy throughout.

[Instructions]
- Create a trap-style beat at 140 BPM
- First rapper performs 4 bars
- Include a 2-bar instrumental break
- Second rapper responds with 4 bars
- Match the delivery style to the emotional tone of the lyrics
- Maintain clear vocal clarity for both rappers

[First Rapper - ${firstLabel} - Aggressive, confident delivery]
${firstUser}

[Beat Break]
2 bars of instrumental

[Second Rapper - ${secondLabel} - Intense, responding with equal energy]
${secondUser}

[Closing]
Fade out with 2 bars of beat`
      setResult(story)
    }
  }, [user1Submitted, user2Submitted, user1Text, user2Text, isUser1First])

  const switchOrder = () => {
    if (!user1Submitted && !user2Submitted) {
      setIsUser1First(prev => !prev)
    }
  }

  const resetAll = () => {
    setUser1Text('')
    setUser2Text('')
    setUser1Submitted(false)
    setUser2Submitted(false)
    setResult('')
  }

  return (
    <Card className="w-full max-w-2xl mx-auto mt-8">
      <CardHeader>
        <CardTitle className="text-2xl font-bold text-center">Template Story Game</CardTitle>
      </CardHeader>
      <CardContent className="space-y-4">
        <div className="flex justify-center mb-4">
          <Button 
            onClick={switchOrder}
            disabled={user1Submitted || user2Submitted}
            className="flex items-center gap-2"
            variant="outline"
          >
            <ArrowRightLeft className="w-4 h-4" />
            {isUser1First ? "User A First" : "User B First"}
          </Button>
        </div>
        
        <div className="space-y-2">
          <label htmlFor="user1" className="text-sm font-medium">
            {isUser1First ? "User A" : "User B"}
          </label>
          <div className="flex space-x-2">
            <Input
              id="user1"
              value={user1Text}
              onChange={(e) => setUser1Text(e.target.value)}
              disabled={user1Submitted}
              placeholder="Enter your 4 bars here (separate lines with / )"
            />
            <Button onClick={handleUser1Submit} disabled={user1Submitted || !user1Text}>
              Submit
            </Button>
          </div>
        </div>
        
        <div className="space-y-2">
          <label htmlFor="user2" className="text-sm font-medium">
            {isUser1First ? "User B" : "User A"}
          </label>
          <div className="flex space-x-2">
            <Input
              id="user2"
              value={user2Text}
              onChange={(e) => setUser2Text(e.target.value)}
              disabled={user2Submitted}
              placeholder="Enter your 4 bars here (separate lines with / )"
            />
            <Button onClick={handleUser2Submit} disabled={user2Submitted || !user2Text}>
              Submit
            </Button>
          </div>
        </div>
        
        <div className="space-y-2">
          <label htmlFor="result" className="text-sm font-medium">Final Story</label>
          <textarea
            id="result"
            value={result}
            readOnly
            className="w-full h-96 p-4 text-lg font-mono border rounded-md bg-secondary/50"
          />
        </div>
      </CardContent>
      <CardFooter className="flex justify-center">
        <Button onClick={resetAll}>Start New Game</Button>
      </CardFooter>
    </Card>
  )
}
```

# components/ui/button.tsx

```tsx
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default:
          "bg-primary text-primary-foreground shadow hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",
        outline:
          "border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2",
        sm: "h-8 rounded-md px-3 text-xs",
        lg: "h-10 rounded-md px-8",
        icon: "h-9 w-9",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button"
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }

```

# components/ui/card.tsx

```tsx
import * as React from "react"

import { cn } from "@/lib/utils"

const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      "rounded-xl border bg-card text-card-foreground shadow",
      className
    )}
    {...props}
  />
))
Card.displayName = "Card"

const CardHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex flex-col space-y-1.5 p-6", className)}
    {...props}
  />
))
CardHeader.displayName = "CardHeader"

const CardTitle = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("font-semibold leading-none tracking-tight", className)}
    {...props}
  />
))
CardTitle.displayName = "CardTitle"

const CardDescription = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
CardDescription.displayName = "CardDescription"

const CardContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />
))
CardContent.displayName = "CardContent"

const CardFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex items-center p-6 pt-0", className)}
    {...props}
  />
))
CardFooter.displayName = "CardFooter"

export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }

```

# components/ui/input.tsx

```tsx
import * as React from "react"

import { cn } from "@/lib/utils"

const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<"input">>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Input.displayName = "Input"

export { Input }

```

# lib/utils.ts

```ts
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}

```

